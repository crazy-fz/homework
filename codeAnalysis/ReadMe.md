[TOC]
## 0. 功能介绍
* 将一个c/cpp代码文件中的：标识符，关键字，数（包括整数、浮点数），字符串常量、符号常量、单行注释、段落注释、特殊符号（分界符）和运算符号进行解析。
* /texts目录下的文件保存了关键字、运算符号、特殊符号，可根据需要进行修改。
* /example目录下是结果展示。

## 1. 编译&运行
* 在命令行中cd到源文件所在目录
* 编译参数: g++ -fexec-charset=GBK -finput-charset=UTF-8 main.cpp -O2 -o main
* 运行: ./main.exe [文件地址]
    如果不指定文件地址，则运行程序后提示输入
    解析完成的结果与输入文件保存在同一目录下

## 2. 文件编码问题(中文支持)
* 为了支持中文注释，解析结果result.txt的文件编码是GBK

* 如果想正常输出代码中的中文注释，请将要解析的代码文件编码更改为GBK



## 3. 程序实现

### 大致思路
将文件完整读入为字符串，从前往后匹配字符串进行解析。

### 数据结构
对于关键字、运算符号这种不定长的字符串，使用字典树的数据结构存储，可以有效降低程序的时空复杂度。
对于特殊符号(分界符)，因为长度都为1，所以用STL中的set进行存储。

### 程序流程
> 1. 将各种记号装入数据结构，读入文件为字符串。
> 2. 从前往后匹配字符串，匹配的优先顺序为：
>   字符串常量
>   单行注释
>   段落注释(以上几类记号可夹杂空白字符，所以要最先判断)
>   特殊符号
>   关键字/运算符号
>   数字
>   符号常量(这四个顺序可任意调换)
>   标识符(因为无法存储未知的标识符，所以放最后)
>   匹配成功就把本次结果写入result，然后进行后续匹配。